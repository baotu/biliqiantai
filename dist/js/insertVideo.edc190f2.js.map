{"version":3,"sources":["webpack:///./src/views/insertVideo.vue?f694","webpack:///./src/views/insertVideo.vue?af09","webpack:///src/views/insertVideo.vue","webpack:///./src/views/insertVideo.vue?be72","webpack:///./src/views/insertVideo.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_insertVideo_vue_vue_type_style_index_0_id_45c0c0c8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_insertVideo_vue_vue_type_style_index_0_id_45c0c0c8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","font-size","padding","margin-bottom","directives","name","rawName","value","videoId","expression","_v","attrs","label-width","model","form","label","action","show-file-list","on-success","handleAvatarSuccess","accept","on-progress","uploadPhotoProcess1","videourl","photoFlag","width","id","src","_e","padding-left","margin-top","type","percentage","photoUploadPercent","placeholder","callback","$$v","$set","with-credentials","handleAvatarSuccess11","before-upload","beforeAvatarUpload11","picture","_l","item","key","typeid","typename","on","click","onSubmit","alt","staticRenderFns","insertVideovue_type_script_lang_js_","store","components","HeaderNav","HeaderNav1","Footer","footer","data","types","timelong","title","videoname","videonote","mounted","_this","getType","$route","query","vdId","axios","get","params","videoid","then","rs","xyuser","methods","beforeUploadVideo","file","isLt10M","size","$message","error","res","event","parse_int_default","_this2","xyvideotype","isJPG","isPNG","isLt2M","_this3","method","url","withCredentials","message","duration","$router","push","views_insertVideovue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/insertVideo.edc190f2.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./insertVideo.vue?vue&type=style&index=0&id=45c0c0c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./insertVideo.vue?vue&type=style&index=0&id=45c0c0c8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"insertVideo\"},[_c('HeaderNav'),_c('div',{staticClass:\"int-cont\"},[_c('h3',{staticStyle:{\"font-size\":\"24px\",\"padding\":\"5px 10px\",\"margin-bottom\":\"20px\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.videoId),expression:\"!videoId\"}]},[_vm._v(\"添加\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.videoId),expression:\"videoId\"}]},[_vm._v(\"修改\")]),_vm._v(\"视频\")]),_c('el-form',{attrs:{\"label-width\":\"80px\",\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"上传视频\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"name\":\"videofile\",\"action\":\"http://111.230.247.223/SameBWeb/xyvideo/updateVideo.do\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"accept\":\".mp4,.qlv,.qsv,.ogg,.flv,.avi,.wmv,.rmvb\",\"on-progress\":_vm.uploadPhotoProcess1}},[( _vm.form.videourl != '' && _vm.photoFlag == false)?_c('video',{staticClass:\"avatar\",staticStyle:{\"width\":\"200px\"},attrs:{\"id\":\"videofile\",\"src\":_vm.form.videourl}}):_vm._e(),( _vm.form.videourl == '' && _vm.photoFlag == false)?_c('div',{staticClass:\"changehead\"},[_vm._v(\"上传视频\")]):_vm._e(),(_vm.photoFlag == true)?_c('el-progress',{staticStyle:{\"padding-left\":\"40px\",\"margin-top\":\"15px\",\"width\":\"160px\"},attrs:{\"type\":\"circle\",\"percentage\":_vm.photoUploadPercent}}):_vm._e()],1)],1),_c('el-form-item',{attrs:{\"label\":\"视频标题\"}},[_c('el-input',{staticStyle:{\"width\":\"40%\"},attrs:{\"placeholder\":\"请输入标题\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"视频名字\"}},[_c('el-input',{staticStyle:{\"width\":\"40%\"},attrs:{\"placeholder\":\"请输入名字(搜索的关键字)\"},model:{value:(_vm.form.videoname),callback:function ($$v) {_vm.$set(_vm.form, \"videoname\", $$v)},expression:\"form.videoname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"视频标签\"}},[_c('el-input',{staticStyle:{\"width\":\"40%\"},attrs:{\"placeholder\":\"请输入名字(搜索的关键字)\"},model:{value:(_vm.form.label),callback:function ($$v) {_vm.$set(_vm.form, \"label\", $$v)},expression:\"form.label\"}})],1),_c('el-form-item',{attrs:{\"label\":\"视频封面\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://111.230.247.223/SameBWeb/xyvideo/updateVideoPicture.do\",\"show-file-list\":false,\"name\":\"videopicture\",\"with-credentials\":true,\"on-success\":_vm.handleAvatarSuccess11,\"before-upload\":_vm.beforeAvatarUpload11}},[(_vm.form.picture == '')?_c('div',{staticClass:\"changehead\"},[_vm._v(\"上传封面\")]):_vm._e(),(_vm.form.picture)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.form.picture}}):_vm._e()])],1),_c('el-form-item',{attrs:{\"label\":\"视频类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择视频分类\"},model:{value:(_vm.form.typeid),callback:function ($$v) {_vm.$set(_vm.form, \"typeid\", $$v)},expression:\"form.typeid\"}},_vm._l((_vm.types),function(item){return _c('el-option',{key:item.typeid,attrs:{\"label\":item.typename,\"value\":item.typeid}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"作品介绍\"}},[_c('el-input',{staticStyle:{\"width\":\"70%\"},attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入视频简介\"},model:{value:(_vm.form.videonote),callback:function ($$v) {_vm.$set(_vm.form, \"videonote\", $$v)},expression:\"form.videonote\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交发布\")])],1)],1),_c('img',{staticClass:\"im\",attrs:{\"src\":\"https://s3.hdslb.com/bfs/static/studio-upload-v3/static/img/2233_upload.637ac33.png\",\"alt\":\"\"}})],1),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"insertVideo\">\r\n\t\t<HeaderNav></HeaderNav>\r\n\t\t<div class=\"int-cont\">\r\n\t\t\t<h3 style=\"font-size: 24px;padding: 5px 10px;margin-bottom: 20px;\"><span v-show=\"!videoId\">添加</span><span v-show=\"videoId\">修改</span>视频</h3>\r\n\t\t\t<el-form label-width=\"80px\" :model=\"form\">\r\n\t\t\t\t<el-form-item label=\"上传视频\">\r\n\t\t\t\t\t<el-upload class=\"avatar-uploader\" name=\"videofile\" action=\"http://111.230.247.223/SameBWeb/xyvideo/updateVideo.do\"\r\n\t\t\t\t\t :show-file-list=\"false\" :on-success=\"handleAvatarSuccess\" accept=\".mp4,.qlv,.qsv,.ogg,.flv,.avi,.wmv,.rmvb\"\r\n\t\t\t\t\t :on-progress=\"uploadPhotoProcess1\">\r\n\t\t\t\t\t\t<video id=\"videofile\" v-if=\" form.videourl != '' && photoFlag == false\" style=\"width: 200px;\" :src=\"form.videourl\"\r\n\t\t\t\t\t\t class=\"avatar\"></video>\r\n\t\t\t\t\t\t<div class=\"changehead\" v-if=\" form.videourl == '' && photoFlag == false\">上传视频</div>\r\n\t\t\t\t\t\t<el-progress v-if=\"photoFlag == true\" type=\"circle\" :percentage=\"photoUploadPercent\" style=\"padding-left: 40px; margin-top:15px;width: 160px;\"></el-progress>\r\n\t\t\t\t\t</el-upload>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"视频标题\">\r\n\t\t\t\t\t<el-input v-model=\"form.title\" style=\"width:40%\" placeholder=\"请输入标题\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"视频名字\">\r\n\t\t\t\t\t<el-input v-model=\"form.videoname\" style=\"width:40%\" placeholder=\"请输入名字(搜索的关键字)\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"视频标签\">\r\n\t\t\t\t\t<el-input v-model=\"form.label\" style=\"width:40%\" placeholder=\"请输入名字(搜索的关键字)\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"视频封面\">\r\n\t\t\t\t\t<el-upload class=\"avatar-uploader\" action=\"http://111.230.247.223/SameBWeb/xyvideo/updateVideoPicture.do\"\r\n\t\t\t\t\t :show-file-list=\"false\" name=\"videopicture\" :with-credentials=\"true\" :on-success=\"handleAvatarSuccess11\"\r\n\t\t\t\t\t :before-upload=\"beforeAvatarUpload11\">\r\n\t\t\t\t\t\t<div class=\"changehead\" v-if=\"form.picture == ''\">上传封面</div>\r\n\t\t\t\t\t\t<img v-if=\"form.picture\" :src=\"form.picture\" class=\"avatar\">\r\n\t\t\t\t\t</el-upload>\r\n\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"视频类型\">\r\n\t\t\t\t\t<el-select v-model=\"form.typeid\" placeholder=\"请选择视频分类\">\r\n\t\t\t\t\t\t<el-option v-for=\"item in types\" :key=\"item.typeid\" :label=\"item.typename\" :value=\"item.typeid\">\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"作品介绍\">\r\n\t\t\t\t\t<el-input type=\"textarea\" v-model=\"form.videonote\" style=\"width:70%\" placeholder=\"请输入视频简介\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"onSubmit\">提交发布</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<img class=\"im\" src=\"https://s3.hdslb.com/bfs/static/studio-upload-v3/static/img/2233_upload.637ac33.png\" alt=\"\">\r\n\t\t</div>\r\n\t\t<Footer></Footer>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport HeaderNav from \"@/components/header/HeaderNav1\";\r\n\timport Footer from \"@/components/footer/index\";\r\n\timport store from \"@/store.js\";\r\n\t//import qs from \"qs\"\r\n\texport default {\r\n\t\tstore,\r\n\t\tcomponents: {\r\n\t\t\tHeaderNav,\r\n\t\t\tFooter\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttypes: '',\r\n\t\t\t\tphotoFlag: false,\r\n\t\t\t\tphotoUploadPercent: '0%',\r\n\t\t\t\tvideoId:'',\r\n\t\t\t\tform: {\r\n\t\t\t\t\tvideourl: '',\r\n\t\t\t\t\ttimelong: '',\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\ttypeid: '',\r\n\t\t\t\t\tvideoname: '',\r\n\t\t\t\t\tpicture: '',\r\n\t\t\t\t\tvideonote: '',\r\n\t\t\t\t\tlabel: ''\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getType();\r\n\t\t\t//console.log(this.$route.query.vdId);\r\n\t\t\tif (this.$route.query.vdId) {\r\n\t\t\t\tthis.videoId = this.$route.query.vdId;\r\n\t\t\t\tthis.axios\r\n\t\t\t\t\t.get(\"xyvideo/findById.do\", {\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tvideoid: this.$route.query.vdId\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(rs => {\r\n\t\t\t\t\t\t// console.log(rs.data.xyuser);\r\n\t\t\t\t\t\tthis.form.videoname = rs.data.xyuser.videoname;\r\n\t\t\t\t\t\tthis.form.videourl = rs.data.xyuser.videourl;\r\n\t\t\t\t\t\tthis.form.typeid = rs.data.xyuser.typeid;\r\n\t\t\t\t\t\tthis.form.picture = rs.data.xyuser.picture;\r\n\t\t\t\t\t\tthis.form.timelong = rs.data.xyuser.timelong;\r\n\t\t\t\t\t\tthis.form.videonote = rs.data.xyuser.videonote;\r\n\t\t\t\t\t\tthis.form.title = rs.data.xyuser.title;\r\n\t\t\t\t\t\tthis.form.label = rs.data.xyuser.label;\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//视频\r\n\t\t\tbeforeUploadVideo(file) { //视频上传之前判断他的大小\r\n\t\t\t\tconst isLt10M = file.size / 1024 / 1024 < 2000;\r\n\t\t\t\tif (!isLt10M) {\r\n\t\t\t\t\tthis.$message.error('上传视频大小不能超过2000MB哦!');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleAvatarSuccess(res) { //,file\r\n\t\t\t\tthis.form.videourl = res.xyuser;\r\n\t\t\t\tthis.form.timelong = res.timelong;\r\n\t\t\t\tthis.photoFlag = false;\r\n\t\t\t\tthis.photoUploadPercent = 0;\r\n\t\t\t},\r\n\t\t\tuploadPhotoProcess1(event, file) { //,fileList\r\n\t\t\t\tthis.photoFlag = true;\r\n\t\t\t\tthis.photoUploadPercent = parseInt(file.percentage);\r\n\t\t\t},\r\n\t\t\tgetType() {\r\n\t\t\t\tthis.axios.get('xyvideotype/findAll.do').then(res => {\r\n\t\t\t\t\t//console.log(res.data);\r\n\t\t\t\t\tthis.types = res.data.xyvideotype;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//封面\r\n\t\t\thandleAvatarSuccess11(res, file) {\r\n\t\t\t\tthis.form.picture = res.xyuser;\r\n\t\t\t},\r\n\t\t\tbeforeAvatarUpload11(file) {\r\n\t\t\t\tconst isJPG = file.type === 'image/jpeg';\r\n\t\t\t\tconst isPNG = file.type === 'image/png';\r\n\t\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\t\t\t\tthis.file = file;\r\n\t\t\t\t// console.log(this.file);\r\n\t\t\t\tif (!isJPG || !isPNG) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片只能是 JPG 和 PNG 格式!');\r\n\t\t\t\t}\r\n\t\t\t\tif (!isLt2M) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片大小不能超过 2MB!');\r\n\t\t\t\t}\r\n\t\t\t\treturn (isJPG||isPNG) && isLt2M;\r\n\t\t\t},\r\n\t\t\tonSubmit() {\r\n\t\t\t\t//var c = qs.stringify(data)\r\n\t\t\t\tif(this.$route.query.vdId){\r\n\t\t\t\t\tthis.axios({\r\n\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\turl: 'xyvideo/updateVideoByVideoId.do',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tvideoid:this.$route.query.vdId,\r\n\t\t\t\t\t\t\tvideoname: this.form.videoname,\r\n\t\t\t\t\t\t\tvideourl: this.form.videourl,\r\n\t\t\t\t\t\t\ttypeid: this.form.typeid,\r\n\t\t\t\t\t\t\tpicture: this.form.picture,\r\n\t\t\t\t\t\t\ttimelong: this.form.timelong,\r\n\t\t\t\t\t\t\tvideonote: this.form.videonote,\r\n\t\t\t\t\t\t\ttitle: this.form.title,\r\n\t\t\t\t\t\t\tlabel: this.form.label\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\t//console.log(res.data.xyuser);\r\n\t\t\t\t\t\tif (res.data.xyuser == 1) {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: \"修改成功！请耐心等待审核\",\r\n\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\t\tname: 'addVideo'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: \"上传失败！请重试\",\r\n\t\t\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\t\tname: 'insertVideo'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.axios({\r\n\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\turl: 'xyvideo/insertData.do',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tvideoname: this.form.videoname,\r\n\t\t\t\t\t\t\tvideourl: this.form.videourl,\r\n\t\t\t\t\t\t\ttypeid: this.form.typeid,\r\n\t\t\t\t\t\t\tpicture: this.form.picture,\r\n\t\t\t\t\t\t\ttimelong: this.form.timelong,\r\n\t\t\t\t\t\t\tvideonote: this.form.videonote,\r\n\t\t\t\t\t\t\ttitle: this.form.title,\r\n\t\t\t\t\t\t\tlabel: this.form.label\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\t//console.log(res.data.xyuser);\r\n\t\t\t\t\t\tif (res.data.xyuser == 1) {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: \"上传成功！请耐心等待审核\",\r\n\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\t\tname: 'addVideo'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: \"上传失败！请重试\",\r\n\t\t\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\t\tname: 'insertVideo'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.changehead,\r\n\t.avatar {\r\n\t\tborder-radius: 5px;\r\n\t\twidth: 220px;\r\n\t\theight: 150px;\r\n\t}\r\n\r\n\t.changehead {\r\n\t\tborder: 2px dashed #ccc;\r\n\t}\r\n\r\n\r\n\t.insertVideo {\r\n\t\tbackground-color: rgb(244, 245, 247);\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.int-cont {\r\n\t\theight: 100%;\r\n\t\twidth: 80%;\r\n\t\tmargin: 20px auto;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 20px;\r\n\t\tpadding: 20px 150px;\r\n\t\tbox-sizing: border-box;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.int-cont .im {\r\n\t\tposition: absolute;\r\n\t\twidth: 300px;\r\n\t\tright: 250px;\r\n\t\ttop: 80px;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./insertVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./insertVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./insertVideo.vue?vue&type=template&id=45c0c0c8&scoped=true&\"\nimport script from \"./insertVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./insertVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./insertVideo.vue?vue&type=style&index=0&id=45c0c0c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45c0c0c8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}