(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{"27d1":function(e,t,r){},"68b5":function(e,t,r){"use strict";var s=r("27d1"),a=r.n(s);a.a},7803:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register_front"},[r("Headnav"),e._m(0),e._m(1),r("div",{staticStyle:{height:"100%",border:""}},[r("div",{staticStyle:{width:"40%",margin:"0 auto",height:"400px","margin-top":"60px"}},[r("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{staticClass:"in",attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm2.username,callback:function(t){e.$set(e.ruleForm2,"username",t)},expression:"ruleForm2.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"pass"}},[r("el-input",{staticClass:"in",attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm2.pass,callback:function(t){e.$set(e.ruleForm2,"pass",t)},expression:"ruleForm2.pass"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{staticClass:"in",attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm2.checkPass,callback:function(t){e.$set(e.ruleForm2,"checkPass",t)},expression:"ruleForm2.checkPass"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{staticClass:"in",attrs:{type:"email"},model:{value:e.ruleForm2.email,callback:function(t){e.$set(e.ruleForm2,"email",t)},expression:"ruleForm2.email"}})],1),r("el-form-item",[r("div",{staticClass:"layui-form-item"},[r("div",{staticClass:"layui-input-block",staticStyle:{width:"75%"}},[r("el-switch",{attrs:{prop:"value3","active-text":"我已经同意"},model:{value:e.ruleForm2.value3,callback:function(t){e.$set(e.ruleForm2,"value3",t)},expression:"ruleForm2.value3"}}),r("font",{attrs:{color:"#00A1D6"}},[e._v("《哔哩哔哩弹幕网用户使用协议》")]),e._v(" 和\n              "),r("font",{attrs:{color:"#00A1D6"}},[e._v("《哔哩哔哩弹幕网账号中心规范》")])],1)]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("注册")]),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm2")}}},[e._v("重置")])],1)],1)],1)]),r("Footer")],1)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logo"},[r("div",[r("img",{attrs:{src:"http://cdn.hwzhj.top/rl_top.35edfde.png"}})])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"exple"},[r("span",{staticClass:"line"}),r("span",{staticClass:"txt"},[e._v("注册")]),r("span",{staticClass:"line"})])}],o=(r("cadf"),r("551c"),r("f751"),r("097d"),r("387d")),l=r("9fe9"),i={name:"register_front",components:{Headnav:o["a"],Footer:l["a"]},data:function(){var e=this,t=function(t,r,s){var a=0;if(e.axios.get("xyuser/findSameEmail.do",{params:{useremail:r}}).then(function(e){a=e.data.xyuser}),!r)return s(new Error("邮箱不能为空"));var o=/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/;o.test(r)||s(new Error("请输入正确的邮箱!")),setTimeout(function(){0!=a?s(new Error("该有邮箱已被注册!")):s()},1e3)},r=function(t,r,s){""===r?s(new Error("请输入密码")):(""!==e.ruleForm2.checkPass&&e.$refs.ruleForm2.validateField("checkPass"),s())},s=function(t,r,s){""===r?s(new Error("请再次输入密码")):r!==e.ruleForm2.pass?s(new Error("两次输入密码不一致!")):s()},a=function(t,r,s){var a=0;e.axios("xyuser/findSameName.do",{params:{username:r}}).then(function(e){a=e.data.xyuser}),""===r&&s(new Error("用户名不能为空")),setTimeout(function(){0!=a?s(new Error("用户名已存在!!")):s()},1e3)};return{ruleForm2:{value3:!1,pass:"",checkPass:"",email:"",username:""},rules2:{pass:[{validator:r,trigger:"blur"}],checkPass:[{validator:s,trigger:"blur"}],email:[{validator:t,trigger:"blur"}],username:[{validator:a,trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(0!=t.ruleForm2.value3)return!!e&&void t.axios.post("xyuser/insertuser.do",{username:t.ruleForm2.username,password:t.ruleForm2.checkPass,useremail:t.ruleForm2.email}).then(function(e){1==e.data.xyuser?(t.$notify({title:"成功",message:"恭喜您,注册成功!正在前往登录！",type:"success"}),setTimeout(function(){t.$router.push("/login")},2e3)):t.$notify.error({title:"错误",message:"由于网络原因注册失败"})});t.$notify({title:"警告",message:"先同意哔哩哔哩网站协议",type:"warning"})})},resetForm:function(e){this.$refs[e].resetFields()}}},n=i,u=(r("68b5"),r("2877")),c=Object(u["a"])(n,s,a,!1,null,"7d053de9",null);t["default"]=c.exports}}]);
//# sourceMappingURL=register.87f0ff95.js.map